{% extends "assets/base.html" %}
{% load static %}
{% block content %}

{% comment %} Hero section {% endcomment %}
<section style="background-image: url('{% static "images/banner-1.jpg" %}');background-repeat: no-repeat;background-size: cover;">
  <div class="container-lg">
    <div class="row">
      <div class="col-lg-6 pt-5 mt-5">
        <h2 class="display-1 ls-1"><span class="fw-bold text-primary">Organic</span> Foods at your <span class="fw-bold">Doorsteps</span></h2>
        <p class="fs-4">Dignissim massa diam elementum.</p>
        <div class="d-flex gap-3">
          <a href="#" class="btn btn-primary text-uppercase fs-6 rounded-pill px-4 py-3 mt-3">Start Shopping</a>
          <a href="#" class="btn btn-dark text-uppercase fs-6 rounded-pill px-4 py-3 mt-3">Join Now</a>
        </div>
        <div class="row my-5">
          <div class="col">
            <div class="row text-dark">
              <div class="col-auto"><p class="fs-1 fw-bold lh-sm mb-0">14k+</p></div>
              <div class="col"><p class="text-uppercase lh-sm mb-0">Product Varieties</p></div>
            </div>
          </div>
          <div class="col">
            <div class="row text-dark">
              <div class="col-auto"><p class="fs-1 fw-bold lh-sm mb-0">50k+</p></div>
              <div class="col"><p class="text-uppercase lh-sm mb-0">Happy Customers</p></div>
            </div>
          </div>
          <div class="col">
            <div class="row text-dark">
              <div class="col-auto"><p class="fs-1 fw-bold lh-sm mb-0">10+</p></div>
              <div class="col"><p class="text-uppercase lh-sm mb-0">Store Locations</p></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="row row-cols-1 row-cols-sm-3 row-cols-lg-3 g-0 justify-content-center">
      <div class="col">
        <div class="card border-0 bg-primary rounded-0 p-4 text-light">
          <div class="row">
            <div class="col-md-3 text-center">
              <svg width="60" height="60"><use xlink:href="#fresh"></use></svg>
            </div>
            <div class="col-md-9">
              <div class="card-body p-0">
                <h5 class="text-light">Fresh from farm</h5>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipi elit.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card border-0 bg-secondary rounded-0 p-4 text-light">
          <div class="row">
            <div class="col-md-3 text-center">
              <svg width="60" height="60"><use xlink:href="#organic"></use></svg>
            </div>
            <div class="col-md-9">
              <div class="card-body p-0">
                <h5 class="text-light">100% Organic</h5>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipi elit.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card border-0 bg-danger rounded-0 p-4 text-light">
          <div class="row">
            <div class="col-md-3 text-center">
              <svg width="60" height="60"><use xlink:href="#delivery"></use></svg>
            </div>
            <div class="col-md-9">
              <div class="card-body p-0">
                <h5 class="text-light">Free delivery</h5>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipi elit.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </div>
</section>
{% comment %} Hero ends  {% endcomment %}


<section class="py-5 overflow-hidden">
  <div class="container-lg">
    <div class="row">
      <div class="col-md-12">

        <div class="section-header d-flex flex-wrap justify-content-between mb-5">
          <h2 class="section-title">Category</h2>

          <div class="d-flex align-items-center">
            {% comment %} <a href="#" class="btn btn-primary me-2">View All</a> {% endcomment %}
            <div class="swiper-buttons">
              <button class="swiper-prev category-carousel-prev btn btn-yellow">❮</button>
              <button class="swiper-next category-carousel-next btn btn-yellow">❯</button>
            </div>
          </div>
        </div>
        
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">

        <div class="category-carousel swiper">
          <div class="swiper-wrapper">
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-1.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Fruits & Veges</h4>
            </a>
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-2.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Breads & Sweets</h4>
            </a>
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-3.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Fruits & Veges</h4>
            </a>
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-4.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Beverages</h4>
            </a>
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-5.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Meat Products</h4>
            </a>
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-6.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Breads</h4>
            </a>
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-7.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Fruits & Veges</h4>
            </a>
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-8.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Breads & Sweets</h4>
            </a>
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-1.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Fruits & Veges</h4>
            </a>
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-1.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Beverages</h4>
            </a>
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-1.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Meat Products</h4>
            </a>
            <a href="category.html" class="nav-link swiper-slide text-center">
              <img src="{% static 'images/category-thumb-1.jpg' %}" class="rounded-circle" alt="Category Thumbnail">
              <h4 class="fs-6 mt-3 fw-normal category-title">Breads</h4>
            </a>
            
          </div>
        </div>

      </div>
    </div>
  </div>
</section>

{% comment %} Product categories {% endcomment %}
<section class="pb-5">
  <div class="container-lg">
    <div class="row">
      <div class="col-md-12">
        <div class="section-header d-flex flex-wrap justify-content-between my-4">
          <h2 class="product-title">Products</h2>
        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-md-12">

      <div class="filter-controls">
        <ul class="filter-options">
          <li class="active" data-filter="*">All</li>
          {% for category in categories %}
          <li data-filter=".{{category.slug}}">{{category.name}}</li>
          {% endfor %}
        </ul>
      </div>
        <div class="product-grid row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-3 row-cols-xl-4 row-cols-xxl-5">  
          {% for product in products %}
          <div class="col {{product.category.slug }}">
            <div class="product-item">
              <figure>
                <a href="{% url 'product_details' slug=product.slug %}" title="Product Title">
                  <img src="{{product.image.url}}" alt="Product Thumbnail" class="tab-image">
                </a>
              </figure>
              <div class="d-flex flex-column text-center">
                <h3 class="fs-6 fw-normal">{{product.name }}</h3>
                <div>  
                  <span class="rating">
                  </span>                  
                </div>
                
                <div class="d-flex justify-content-center align-items-center gap-2">
                  <del>${{product.deleted_price }}</del>
                  <span class="text-dark fw-semibold">${{product.price }}</span>
                </div>

                

                <div class="button-area p-3 pt-0">
                  <div class="row g-1 mt-2">
                    <!-- Quantity Input -->
                    <div class="col-3">
                      <input type="number" name="quantity" class="form-control border-dark-subtle input-number quantity" value="1" min="1">
                    </div>
                    <!-- Add to Cart Button -->
                    <div class="col-7">
                      <button type="button" value="{{ product.id }}" class="btn btn-primary rounded-1 p-2 fs-7 add-cart">
                        <svg width="18" height="18"><use xlink:href="#cart"></use></svg> Add to Cart
                      </button>
                    </div>

                    <!-- Wishlist Button -->
                    <div class="col-2">
                      <a href="#" class="btn btn-outline-dark rounded-1 p-2 fs-6">
                        <svg width="18" height="18"><use xlink:href="#heart"></use></svg>
                      </a>
                    </div>
                  </div>
                </div>


                {% comment %} 
                <div class="button-area p-3 pt-0">
                  <div class="row g-1 mt-2">
                    <div class="col-3">
                        <input type="number" name="quantity" class="form-control border-dark-subtle input-number quantity" value="1">
                    </div>
                    <div class="col-7">
                      <button type="button" value="{{product.id}}" class="btn btn-primary rounded-1 p-2 fs-7" id="add-cart">
                          <svg width="18" height="18"><use xlink:href="#cart"></use></svg> Add to Cart
                      </button>
                    </div>
                  

                    <div class="col-2">
                        <a href="#" class="btn btn-outline-dark rounded-1 p-2 fs-6">
                            <svg width="18" height="18"><use xlink:href="#heart"></use></svg>
                        </a>
                    </div>
                  </div>
                </div> {% endcomment %}


              </div>
            </div>
          </div>
          {% endfor %}
        </div>
        <!-- / product-grid -->
      </div>
    </div>
  </div>
</section>



{% comment %} <script>
  $(document).on('click', '#add-cart', function(e){
    e.preventDefault();
    $.ajax({
      type: 'POST',
      url: '{% url "update_cart" %}',
      data: {
        product_id: $('#add-cart').val(),
        csrfmiddlewaretoken: '{{ csrf_token }}',
        action: 'post'
      },
      success: function(json){
        console.log(json)
      },
      error: function(xhr, errmsg, err){

      }
    });
  })
</script> {% endcomment %}

{% endblock content %}